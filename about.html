<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact ‚Äì MAATRAM ON</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            maatramGreen: "#2e7d32",
            maatramDark: "#1b5e20"
          }
        }
      }
    }
  </script>

  <style>
    .glass {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
    }

    /* Success Popup Animation */
    #successPopup {
      animation: popupScale 0.35s ease-out;
    }

    @keyframes popupScale {
      0% { transform: scale(0.7); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Google Translate styles */
    .goog-te-banner-frame {
      display: none !important;
    }
    
    .skiptranslate iframe {
      display: none !important;
    }
    
    body {
      top: 0 !important;
    }
    
    /* Hide all Google Translate elements except the actual translated text */
    .goog-te-gadget {
      font-size: 0 !important;
    }
    
    .goog-te-gadget-simple {
      background-color: transparent !important;
      border: none !important;
      padding: 0 !important;
      font-size: 0 !important;
      line-height: 0 !important;
    }
    
    .goog-te-menu-value {
      display: none !important;
    }
    
    .goog-te-menu-value span {
      display: none !important;
    }
    
    .goog-te-gadget img {
      display: none !important;
    }
    
    .goog-te-gadget .goog-te-combo {
      display: none !important;
    }
    
    /* Style for buttons */
    .translate-option-btn {
      width: 100%;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      border: none;
      transition: all 0.3s ease;
      text-align: center;
      margin-bottom: 8px;
    }
    
    .tamil-btn {
      background: linear-gradient(135deg, #2e7d32, #1b5e20);
      color: white;
    }
    
    .tamil-btn:hover {
      background: linear-gradient(135deg, #1b5e20, #2e7d32);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3);
    }
    
    .english-btn {
      background: linear-gradient(135deg, #4b5563, #374151);
      color: white;
    }
    
    .english-btn:hover {
      background: linear-gradient(135deg, #374151, #4b5563);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(75, 85, 99, 0.3);
    }
  </style>
</head>

<body class="bg-slate-900 text-white min-h-screen">

  <!-- Google Translate Element - Hidden initially -->
  <div id="google_translate_element" style="display: none;"></div>

  <!-- NAVBAR -->
  <header class="fixed top-0 left-0 right-0 bg-slate-900/70 backdrop-blur-md z-50">
    <nav class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
      <a href="index.html" class="flex items-center gap-3">
        <img src="logo.jpeg" class="w-10 h-10 rounded-full border border-white/20">
        <span class="font-bold text-lg">MAATRAM ON</span>
      </a>

      <div class="hidden md:flex gap-6 text-sm">
        <a href="index.html" class="hover:text-green-300">Home</a>
        <a href="about.html" class="hover:text-green-300">About</a>
        <a href="projects.html" class="hover:text-green-300">Projects</a>
        <a href="contact.html" class="text-green-300">Contact</a>
      </div>
    </nav>
  </header>

  <!-- HERO -->
  <section class="pt-32 pb-12 text-center px-6">
    <h1 class="text-4xl sm:text-5xl font-bold text-green-300">üìû Contact MAATRAM ON</h1>
    <p class="text-slate-300 mt-3 max-w-2xl mx-auto">
      Send us your message, attach images, and find us on the map below.  
      All messages are delivered directly to our **Discord server**.
    </p>
  </section>

  <!-- CONTACT FORM -->
  <section class="max-w-4xl mx-auto px-6 pb-16">
    <div class="glass p-10 rounded-2xl shadow-xl">

      <h2 class="text-2xl font-bold text-green-200 mb-6">Send Us a Message</h2>

      <form id="contactForm" class="space-y-5">

        <input id="name" required type="text" placeholder="Full Name" class="w-full p-3 rounded-lg glass text-white placeholder-gray-400">
        <input id="email" required type="email" placeholder="Email Address" class="w-full p-3 rounded-lg glass text-white placeholder-gray-400">
        <input id="phone" type="text" placeholder="Phone Number" class="w-full p-3 rounded-lg glass text-white placeholder-gray-400">

        <textarea id="message" required rows="5" placeholder="Your Message"
          class="w-full p-3 rounded-lg glass text-white placeholder-gray-400"></textarea>

        <!-- Attachments -->
        <label class="block text-sm text-green-200">Upload Images (optional)</label>
        <input id="fileUpload" type="file" accept="image/*" multiple
          class="w-full p-3 rounded-lg bg-slate-800 border border-white/10 text-sm text-white">

        <button id="submitBtn" type="submit"
          class="w-full py-3 bg-maatramGreen hover:bg-maatramDark rounded-full font-semibold text-white transition-colors">
          Send to Discord
        </button>

      </form>

      <!-- Cooldown -->
      <p id="cooldownMsg" class="text-center text-red-400 text-sm mt-3 hidden"></p>

    </div>
  </section>

  <!-- GOOGLE MAP -->
  <section class="max-w-4xl mx-auto px-6 pb-20">
    <h2 class="text-2xl font-bold text-green-200 mb-4 text-center">üìç Our Location</h2>

    <div class="glass rounded-2xl overflow-hidden shadow-lg">
      <iframe
        width="100%"
        height="350"
        style="border:0; filter:brightness(0.8)"
        loading="lazy"
        allowfullscreen
        src="https://www.google.com/maps/embed/v1/place?key=YOUR_GOOGLE_API_KEY&q=Coimbatore,Tamil+Nadu">
      </iframe>
    </div>

    <p class="text-center text-slate-400 mt-3 text-sm">Replace with your real location + Google Maps API key.</p>
  </section>

  <!-- SUCCESS POPUP -->
  <div id="successPopup" class="fixed inset-0 bg-black/70 hidden items-center justify-center z-50">
    <div class="bg-slate-800 p-8 rounded-2xl shadow-xl text-center max-w-sm w-full">
      <h3 class="text-2xl font-bold text-green-300">‚úî Message Sent!</h3>
      <p class="text-slate-300 mt-2">We received your message on Discord.</p>
      <button onclick="closePopup()"
        class="mt-6 px-6 py-2 bg-maatramGreen hover:bg-maatramDark rounded-full transition-colors">
        OK
      </button>
    </div>
  </div>

  <!-- Fixed Translate Button -->
  <div id="translate-btn"
       class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-xl cursor-pointer z-50 text-2xl transition-all duration-300 hover:scale-110"
       onclick="toggleTranslateMenu()">
    üåç
  </div>

  <!-- Translate Options Container -->
  <div id="translate-menu" class="hidden fixed bottom-24 right-6 z-50">
    <div class="bg-slate-800 border border-green-500/30 rounded-xl shadow-2xl p-4 flex flex-col w-48">
      <button class="translate-option-btn tamil-btn" onclick="translateToTamil()">
        ‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)
      </button>
      <button class="translate-option-btn english-btn" onclick="translateToEnglish()">
        English
      </button>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="py-6 text-center text-slate-400 border-t border-white/10">
    ¬© 2025 MAATRAM ON ‚Äî Environmental Trust
  </footer>

  <!-- Contact Form Script -->
  <script>
    const WEBHOOK_URL = "YOUR_DISCORD_WEBHOOK_URL"; // REQUIRED
    let cooldown = false;

    document.getElementById("contactForm").addEventListener("submit", async (e) => {
      e.preventDefault();

      if (cooldown) return;

      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const message = document.getElementById("message").value.trim();
      const files = document.getElementById("fileUpload").files;

      // Cooldown Start
      cooldown = true;
      document.getElementById("submitBtn").disabled = true;
      document.getElementById("cooldownMsg").innerText = "Please wait 10 seconds before sending again...";
      document.getElementById("cooldownMsg").classList.remove("hidden");

      // 10s cooldown
      setTimeout(() => {
        cooldown = false;
        document.getElementById("submitBtn").disabled = false;
        document.getElementById("cooldownMsg").classList.add("hidden");
      }, 10000);

      // Format fields
      const embed = {
        title: "üåø New Contact Submission",
        color: 5763719,
        fields: [
          { name: "üë§ Name", value: name },
          { name: "üìß Email", value: email },
          { name: "üì± Phone", value: phone || "Not Provided" },
          { name: "üí¨ Message", value: message }
        ],
        timestamp: new Date()
      };

      // Create form data for attachments
      const formData = new FormData();
      formData.append("payload_json", JSON.stringify({
        username: "MAATRAM ON Web Contact",
        embeds: [embed]
      }));

      for (let i = 0; i < files.length; i++) {
        formData.append(`file${i}`, files[i]);
      }

      // Send to Discord
      try {
        await fetch(WEBHOOK_URL, { method: "POST", body: formData });
        showPopup();
        e.target.reset();
      } catch (err) {
        alert("Failed to send the message.");
      }
    });

    function showPopup() {
      document.getElementById("successPopup").style.display = "flex";
    }
    function closePopup() {
      document.getElementById("successPopup").style.display = "none";
    }
  </script>

  <!-- Google Translate Script -->
  <script type="text/javascript">
    // Initialize Google Translate
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,ta', // Only English and Tamil
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
        autoDisplay: false
      }, 'google_translate_element');
    }
    
    // Load Google Translate script
    function loadGoogleTranslate() {
      if (!window.google || !window.google.translate) {
        const script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
        document.body.appendChild(script);
      }
    }
    
    // Call this on page load
    window.onload = function() {
      loadGoogleTranslate();
    };
    
    let isTranslatedToTamil = false;
    
    function toggleTranslateMenu() {
      const menu = document.getElementById('translate-menu');
      menu.classList.toggle('hidden');
    }
    
    function translateToTamil() {
      if (!isTranslatedToTamil) {
        // First ensure Google Translate is loaded
        if (!window.google || !window.google.translate) {
          loadGoogleTranslate();
          setTimeout(() => {
            performTamilTranslation();
          }, 1000);
        } else {
          performTamilTranslation();
        }
      }
      toggleTranslateMenu();
    }
    
    function performTamilTranslation() {
      // Show the Google Translate element
      const translateElement = document.getElementById('google_translate_element');
      translateElement.style.display = 'block';
      
      // Find the Google Translate select dropdown
      const selectElement = document.querySelector('.goog-te-combo');
      if (selectElement) {
        // Set to Tamil
        selectElement.value = 'ta';
        // Trigger change event
        selectElement.dispatchEvent(new Event('change'));
      }
      
      isTranslatedToTamil = true;
      document.getElementById('translate-btn').textContent = 'üáÆüá≥';
    }
    
    function translateToEnglish() {
      if (isTranslatedToTamil) {
        // Find the Google Translate select dropdown
        const selectElement = document.querySelector('.goog-te-combo');
        if (selectElement) {
          // Set back to English
          selectElement.value = 'en';
          // Trigger change event
          selectElement.dispatchEvent(new Event('change'));
        }
        
        isTranslatedToTamil = false;
        document.getElementById('translate-btn').textContent = 'üåç';
      }
      toggleTranslateMenu();
    }
    
    // Close translate menu when clicking outside
    document.addEventListener('click', function(event) {
      const menu = document.getElementById('translate-menu');
      const button = document.getElementById('translate-btn');
      
      if (!menu.contains(event.target) && !button.contains(event.target)) {
        menu.classList.add('hidden');
      }
    });
  </script>

</body>
</html>